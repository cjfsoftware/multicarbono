@model Multicarbono.Models.ItemNota.ItemNota

@{
    List<Multicarbono.Models.ItemPedido.ItemPedido> itemPedido = Newtonsoft.Json.JsonConvert.DeserializeObject< List<Multicarbono.Models.ItemPedido.ItemPedido>>(TempData["Pedido"].ToString());
}

<h6 style="margin-left:2%">Emissão de Nota Fiscal</h6>
<br />

<form asp-action="CadastroItemNota" style="margin-left:1%; margin-right:1%">

    <table class="table table-striped table-hover" style="margin-left:1%; margin-right:1%">
        <thead>
            <tr>
                <th>
                    @Html.DisplayNameFor(itemNota => itemNota.CodProduto)
                </th>
                <th>
                    @Html.DisplayNameFor(itemNota => itemNota.QtdePedido)
                </th>
                <th>
                    @Html.DisplayNameFor(itemNota => itemNota.QtdePesada)
                </th>
                <th>
                    @Html.DisplayNameFor(itemNota => itemNota.SubtotalItemNota)
                </th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in itemPedido.Select((value, index) => new { value, index }))
            {
            <tr>
                <td>
                    @*@Html.DisplayFor(itemPedido => item.value.IdProduto)*@
                    <input asp-for="CodProduto" class="form-control" value="@item.value.IdProduto" />
                </td>
                <td>
                    @*@Html.DisplayFor(itemPedido => item.value.QTDE)*@
                    <input asp-for="QtdePedido" class="form-control" value="@item.value.QTDE"/>
                </td>
                <td>
                    @*@Html.DisplayFor(itemP => item.QTDE)*@
                    <input asp-for="QtdePesada" class="form-control" />
                </td>
                <td>
                    @*@Html.DisplayFor(itemPedido => item.value.SubtotalItemPedido)*@
                    <input asp-for="SubtotalItemNota" class="form-control" value="@item.value.SubtotalItemPedido"/>
                </td>
                <td>
                    <a asp-action="submit" class="btn btn-info" style="margin-left:2%">Gravar peso</a>
                </td>
            </tr>
            }
        </tbody>
    </table>
</form>